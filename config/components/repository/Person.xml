<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE gsa-template
        PUBLIC "-//Art Technology Group, Inc.//DTD Dynamo Security//EN"
        "http://www.atg.com/dtds/gsa/gsa_1.0.dtd">
<gsa-template>
    <header>
        <name>Repository Person</name>
        <author>Klimkova Anastasiya</author>
        <description>
            Task 4
        </description>
    </header>
    <item-descriptor name="user" default="true">
        <table name="user_tbl" type="primary" id-column-names="id">
            <property name="id" column-names="id" data-type="int"/>
            <property name="name" column-names="nam_col" data-type="string"/>
        </table>
        <table name="role_person_id" type="multi" id-column-names="id_person">
            <property name="roles" data-type="set"  column-name="id_role" component-item-type= "role"/>
        </table>
        <table name="mentor_and_user" type="multi"  id-column-names="mentor_id">
            <property name="mentoredUser" data-type="set" column-name="user_id" component-item-type= "user"/>
        </table>
        <table name="mentor_and_user" type="multi" id-column-names="user_id">
            <property name="mentor" data-type="set" column-name="mentor_id" component-item-type= "user"/>
        </table>
        <table name="visit_date_time" type="multi" id-column-names="user_id">
            <property name="visits" data-type="set" column-name="visit_id" component-item-type= "visit"/>
        </table>
        <table name="scores" type="multi" id-column-names="user_id">
            <property name="scores" data-type="set" column-name="score_id" component-item-type= "scores"/>
        </table>
    </item-descriptor>

    <item-descriptor name="role">
    <table name="role" type="primary" id-column-names="id">
        <property name="idRole" column-names="id" data-type="int"/>
        <property name="nameRole" column-names="nam_role_col" data-type="string"/>
    </table>
        <table name="role_person_id" type="multi" id-column-names="id_role">
            <property name="roles" data-type="set"  column-name="id_person" component-item-type= "user"/>
        </table>
    </item-descriptor>

    <item-descriptor name="scores">
        <table name="scores" type="primary" id-column-names="score_id">
            <property name="idScores" column-names="score_id" data-type="int"/>
            <property name="idUser" column-names="user_id" item-type="user"/>
            <property name="score" column-names="score" data-type="double"/>
        </table>
    </item-descriptor>

    <item-descriptor name="visit">
        <table name="visit_date_time" type="primary" id-column-names="visit_id">
            <property name="idVisit" column-names="visit_id" data-type="int"/>
            <property name="idUser" column-names="user_id" data-type="int"/>
            <property name="visitDate" column-names="visit_date" data-type="date"/>
            <property name="isOk" column-names="isOk" data-type="boolean"/>
        </table>
        <table name="visit_date_time" type="multi" id-column-names="visit_id">
            <property name="visits" data-type="set" column-name="user_id" component-item-type= "user"/>
        </table>
    </item-descriptor>

</gsa-template>